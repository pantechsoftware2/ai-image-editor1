ğŸ” GOOGLE CLOUD AUTHENTICATION FIX - QUICK START
================================================

PROBLEM: 
  Image generation fails with "Unable to authenticate your request"

CAUSE:
  Google Cloud SDK not authenticated on your system

SOLUTION (Choose One):

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OPTION 1: Automated Setup (Recommended - 5 minutes)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Open PowerShell (or Command Prompt)

2. Run this command:
   powershell -ExecutionPolicy Bypass -File "C:\Users\pante\Downloads\ai-image-editor\setup-gcloud.ps1"

3. It will:
   âœ“ Check for Google Cloud SDK
   âœ“ Install it if needed (opens installer)
   âœ“ Authenticate with your Google account
   âœ“ Verify project settings
   âœ“ Show success message

4. After it finishes:
   - cd C:\Users\pante\Downloads\ai-image-editor
   - npm run dev
   - Test image generation

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OPTION 2: Manual Setup (If script doesn't work)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Step 1: Download & Install Google Cloud SDK
   â†’ https://cloud.google.com/sdk/docs/install
   â†’ Download "Google Cloud SDK Installer for Windows"
   â†’ Run the installer
   â†’ Restart PowerShell when done

Step 2: Authenticate
   Open PowerShell and run:
   gcloud auth application-default login

   âœ“ Browser window opens
   âœ“ Sign in with your Google account
   âœ“ Click "Allow" when asked for permissions
   âœ“ Credentials saved automatically

Step 3: Verify
   Run this to confirm it worked:
   gcloud auth application-default print-access-token
   
   âœ“ Should show a long token (copy of random characters)
   âœ— If error: go back to Step 2

Step 4: Restart and Test
   cd C:\Users\pante\Downloads\ai-image-editor
   npm run dev
   
   âœ“ Go to http://localhost:3000
   âœ“ Login
   âœ“ Go to Editor
   âœ“ Type "google.com" â†’ Extract Brand
   âœ“ Type "coffee" â†’ Generate Image
   âœ“ Wait 30-60 seconds, should see 4 images

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
VERIFICATION CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After setup, verify everything:

[ ] Google Cloud SDK installed
    Run: gcloud --version
    Should show: Google Cloud SDK [version]

[ ] Authenticated 
    Run: gcloud auth application-default print-access-token
    Should show: Token string (long random characters)

[ ] Project ID correct
    Run: gcloud config get-value project
    Should show: ai-image-editor-483505

[ ] APIs enabled
    Run: gcloud services enable aiplatform.googleapis.com
    Should complete without errors

[ ] .env.local has project ID
    Should contain: GOOGLE_CLOUD_PROJECT_ID=ai-image-editor-483505

[ ] npm run dev starts without errors
    Should see: "Ready in" message

[ ] Image generation works
    Browser console shows:
    - "ğŸ” Initializing Vertex AI..."
    - "âœ… Vertex AI initialized"
    - "âœ¨ Generated 4 images"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Problem: "gcloud: The term is not recognized"
â†’ Google Cloud SDK not installed
â†’ Download from: https://cloud.google.com/sdk/docs/install

Problem: "Unable to authenticate"
â†’ Run: gcloud auth application-default login
â†’ Make sure to click "Allow" in browser

Problem: Still seeing errors in browser
â†’ Open DevTools (F12)
â†’ Go to Console tab
â†’ Look for error messages
â†’ Check if it says "GOOGLE_CLOUD_PROJECT_ID" is set

Problem: "Quota exceeded"
â†’ You've hit free tier limits
â†’ Check: https://console.cloud.google.com/quotas
â†’ May need to wait or upgrade project

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
FILES PROVIDED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

setup-gcloud.ps1      â†’ PowerShell setup script (RECOMMENDED)
setup-gcloud.bat      â†’ Batch file setup (alternative)
AUTH_SETUP_FIX.txt    â†’ Detailed setup instructions
.env.local            â†’ Already has your project ID

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
READY TO FIX?
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Option 1 (Easiest):
Open PowerShell and run:
powershell -ExecutionPolicy Bypass -File setup-gcloud.ps1

Then come back and test image generation!

Your project ID is: ai-image-editor-483505
Your region is: us-central1

Good luck! ğŸš€
